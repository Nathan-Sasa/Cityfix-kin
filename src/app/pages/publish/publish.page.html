<app-header [name]="publish"></app-header>

<ion-content [fullscreen]="true">
	<div class=" flex justify-center py-8">
		<ion-button
			slot="true"
			class="camera-btn"
			id="pub-modal"
			(click)="photo()"
			>
			<ion-icon name="camera" class="text-6xl"></ion-icon>
		</ion-button>
	</div>
	<ion-list>
		<ion-item>
			<ion-input 
				label="Sujet"
				placeholder="Enter text"
				maxlength="40"
				[counter]="true" 
				[(ngModel)]="title"
				class="title-input"
			></ion-input>
		</ion-item>
		<ion-item>
			<ion-textarea 
				label="Description" 
				labelPlacement="floating" 
				[counter]="true" 
				[autoGrow]="true"
				maxlength="150"
				[(ngModel)]="description"
				clear-input="true"
				class="descript-area"
			></ion-textarea>
		</ion-item>
		<!-- <div>
			<span>{{title()}}</span>
			<p>{{description()}}</p>
		</div> -->
		<!-- <ion-item>

		</ion-item> -->

		<!-- modal -->
		<ion-modal
			trigger="pub-modal"
			[initialBreakpoint]="1" 
			[breakpoints]="[0, 1]">
			<ng-template>
				<ion-toolbar>
					<ion-button
						(click)="closeModal()"
						fill="clear"
						slot="start"
						class="cancel-btn">
						<ion-text>Annuler</ion-text>
						<!-- <ion-icon name="arrow-back" size="large" class="back-btn"></ion-icon> -->
					</ion-button>
					<ion-button
						fill="clear"
						slot="end"
						(click)="submit()"
						[disabled]="form.invalid"
						class="submit-btn">
						<ion-text>Signaler</ion-text>
					</ion-button>
				</ion-toolbar>

				<ion-content>
					<form 
						[formGroup]="form"
						action=""
						>
						<div
							class="max-sm:w-full h-80 ">
							<ion-img id="imgPublish"></ion-img>
						</div>

						<ion-list>
							<ion-item>
								<ion-input 
									label="Sujet"
									placeholder="Enter text"
									maxlength="40"
									[counter]="true" 
									formControlName="formTitle"
									[value]="title()"
									class="title-input"
								></ion-input>
							</ion-item>
							<ion-item>
								<ion-textarea 
									label="Description" 
									labelPlacement="floating" 
									[counter]="true" 
									[autoGrow]="true"
									maxlength="150"
									formControlName="formDescription"
									[value]="description()"
									clear-input="true"
									class="descript-area"
								></ion-textarea>
							</ion-item>
						</ion-list>
						<!-- <ion-button
							type="submit"
							class="submit-btn">
							Signaler
						</ion-button> -->
					</form>
				</ion-content>
			</ng-template>
		</ion-modal>
	</ion-list>
</ion-content>
